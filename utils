export class GpsConverter {
  public static decimalGpsToDms({ latitude, longitude }: { latitude: number; longitude: number }): string {
    const toDms = (decimal: number, isLat: boolean) => {
      const abs = Math.abs(decimal);
      const degrees = Math.floor(abs);
      const minutesFloat = (abs - degrees) * 60;
      const minutes = Math.floor(minutesFloat);
      const seconds = ((minutesFloat - minutes) * 60).toFixed(2);

      // N/S for latitude, E/W for longitude
      const direction = isLat
        ? (decimal >= 0 ? 'N' : 'S')
        : (decimal >= 0 ? 'E' : 'W');

      return `${degrees}Â° ${minutes}' ${seconds}" ${direction}`;
    };

    const latDms = toDms(latitude, true);
    const lonDms = toDms(longitude, false);
    return `${latDms} ${lonDms}`;
  }
}
